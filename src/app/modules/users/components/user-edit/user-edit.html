<mat-card class="user-card">
  <mat-card-title>
    Edit User
  </mat-card-title>
  <form class="user-edit-form" [formGroup]="userEditForm" novalidate>
    <mat-form-field class="example-full-width">
      <input matInput placeholder="Name" formControlName="name">
      <mat-error *ngIf="userEditForm.controls.name.hasError('required')">
        Name is required
      </mat-error>
      <mat-error *ngIf="userEditForm.controls.name.hasError('minlength')">
        Name length should be at least 3 characters
      </mat-error>
    </mat-form-field>

    <mat-form-field>
      <input matInput placeholder="Username" formControlName="username">
      <mat-error *ngIf="userEditForm.controls.username.hasError('required')">
        Username is required
      </mat-error>
      <mat-error *ngIf="userEditForm.controls.username.hasError('minlength')">
        Name length should be at least 3 characters
      </mat-error>
    </mat-form-field>

    <mat-form-field>
      <input matInput placeholder="Email" formControlName="email">
      <mat-error *ngIf="userEditForm.controls.email.hasError('email')">
        Please enter valid email
      </mat-error>
    </mat-form-field>

    <div formGroupName="address">
      <mat-form-field>
        <input matInput placeholder="City" formControlName="city">
        <mat-error *ngIf="userEditForm.controls.address.controls.city.hasError('required')">
          City is required
        </mat-error>
      </mat-form-field>

      <mat-form-field>
        <input matInput placeholder="Street" formControlName="street">
        <mat-error *ngIf="userEditForm.controls.address.controls.street.hasError('required')">
          Street name is required
        </mat-error>
      </mat-form-field>

      <mat-form-field>
        <input matInput placeholder="Suite" formControlName="suite">
        <mat-error *ngIf="userEditForm.controls.address.controls.suite.hasError('required')">
          Suite is required
        </mat-error>
      </mat-form-field>
    </div>
    <button mat-raised-button
            [disabled]="!userEditForm.valid"
            color="primary"
            (click)="updateUser(userEditForm.value)">Save</button>
    <button mat-raised-button [routerLink]="['/view', user.id]">Back to Profile</button>
  </form>
</mat-card>
